# ================================================
# 销冠培养系统 - 环境变量配置模板
# ================================================
# 复制此文件为 .env 并修改相应配置
# 部署命令: ./deploy.sh
#
# 端口说明:
#   前端: 8110
#   后端: 8111
#   PostgreSQL: 容器内部 5432
#   Redis: 容器内部 6379

# ========== Docker 镜像加速 (可选) ==========
# 腾讯云内网加速 (仅限腾讯云服务器环境)
# true = 启用加速, false = 不使用 (本地Mac设为false)
USE_TENCENT_MIRROR=false

# 加速镜像地址 (可自定义，启用加速时生效)
DOCKER_MIRROR=https://mirror.ccs.tencentyun.com
PIP_MIRROR=https://mirrors.cloud.tencent.com/pypi/simple
NPM_MIRROR=https://mirrors.cloud.tencent.com/npm/

# ========== 数据库配置 ==========
POSTGRES_USER=postgres
POSTGRES_PASSWORD=your_secure_database_password_here
POSTGRES_DB=asp_db

# ========== Redis配置 ==========
REDIS_PASSWORD=your_secure_redis_password_here

# ========== 应用配置 ==========
APP_ENV=production
DEBUG=false

# JWT密钥 - 必须修改为强随机字符串 (至少32位)
JWT_SECRET=your_very_secure_jwt_secret_key_at_least_32_characters

# ========== CORS配置 ==========
# 允许的前端域名，多个用逗号分隔
CORS_ORIGINS=http://localhost:8110

# ========== LLM配置 (阿里云百炼) ==========
# 阿里云百炼 (Model Studio) - 通义千问大模型
# 获取API Key: https://bailian.console.aliyun.com/#/api-key
# 文档: https://help.aliyun.com/zh/model-studio/
DASHSCOPE_API_KEY=your_dashscope_api_key_here
DASHSCOPE_MODEL=qwen3-max
# 可选模型: qwen3-max, qwen-plus, qwen-turbo, qwen-long
DASHSCOPE_REGION=beijing
# 可选地域: beijing, singapore, finance
DASHSCOPE_ENABLE_THINKING=false
# 是否启用思考模式 (仅qwen-plus支持)

# ========== 实时语音配置 (阿里云百炼) ==========
# Qwen-Omni-Realtime 端到端语音对话
# 文档: https://help.aliyun.com/zh/model-studio/realtime
REALTIME_MODEL=qwen3-omni-flash-realtime
REALTIME_VOICE=Cherry
# 可选音色: Cherry, Serena, Ethan, Chelsie

# VAD (语音端点检测) 配置
REALTIME_VAD_THRESHOLD=0.5
REALTIME_SILENCE_DURATION_MS=800


# 阿里云 ASR
ALIYUN_ASR_KEY=
ALIYUN_ASR_SECRET=

# ========== 前端配置 ==========
# 前端 API 基础路径
# 留空使用相对路径 /api/v1（推荐，通过 Next.js rewrites 代理请求）
# 不要设置为 http://backend:8111，这是容器内部地址，浏览器无法访问！
NEXT_PUBLIC_API_URL=

# ========== Celery任务队列配置 ==========
# 异步任务处理 (报告生成、语音转写等)
CELERY_BROKER_URL=redis://:your_secure_redis_password_here@redis:6379/1
CELERY_RESULT_BACKEND=redis://:your_secure_redis_password_here@redis:6379/2

# ========== 阿里云短信 (可选) ==========
# ALIYUN_SMS_ACCESS_KEY=your_access_key
# ALIYUN_SMS_ACCESS_SECRET=your_access_secret
# ALIYUN_SMS_SIGN_NAME=your_sign_name
# ALIYUN_SMS_TEMPLATE_CODE=your_template_code

# ========== 微信登录配置 ==========
# 微信开放平台: https://open.weixin.qq.com/
# 1. 创建网站应用获取 AppID 和 AppSecret
# 2. 配置授权回调域名 (需与 WECHAT_REDIRECT_URI 一致)
WECHAT_APP_ID=
WECHAT_APP_SECRET=
WECHAT_REDIRECT_URI=https://yourdomain.com/api/v1/auth/wechat/callback

# 微信公众号配置 (用于微信内网页授权，可选)
WECHAT_MP_APP_ID=
WECHAT_MP_APP_SECRET=
